<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Aptal ðŸ¤ª Bot</title>
<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  font-family:Arial, sans-serif;
  color:#fff;
}
#box{
  width:90%;
  max-width:600px;
  background:#111;
  border-radius:10px;
  padding:15px;
  display:flex;
  flex-direction:column;
}
#messages{
  flex:1;
  overflow-y:auto;
  margin-bottom:10px;
}
.msg{margin-bottom:6px}
.user{color:#4fc3f7}
.bot{color:#ffb74d}
input{
  padding:10px;
  border:none;
  border-radius:6px;
  outline:none;
}
.footer{
  font-size:11px;
  text-align:center;
  opacity:.7;
  margin-top:6px;
}
</style>
</head>
<body>

<div id="box">
  <div id="messages"></div>
  <input id="input" placeholder="Yaz ve Enter'a bas">
  <div class="footer">Deniz Z tarafÄ±ndan yapÄ±ldÄ±</div>
</div>

<script>
const messages = document.getElementById("messages");
const input = document.getElementById("input");

// === HAFIZA ===
let hafiza = JSON.parse(localStorage.getItem("aptal_hafiza")) || [];

// ESKÄ° MESAJLARI YÃœKLE
hafiza.forEach(m => ekle(m.tip, m.metin));

function kaydet(){
  localStorage.setItem("aptal_hafiza", JSON.stringify(hafiza));
}

function ekle(tip, metin){
  const d = document.createElement("div");
  d.className = "msg " + tip;
  d.textContent = (tip==="user" ? "Sen: " : "Aptal: ") + metin;
  messages.appendChild(d);
  messages.scrollTop = messages.scrollHeight;
}

// === BOT BEYNÄ° ===
function cevap(text){
  text = text.toLowerCase();

  if(text.includes("ÅŸiir yaz")){
    return "Bir ÅŸeyler yazardÄ±m ama kafam biraz daÄŸÄ±nÄ±k bugÃ¼n.";
  }
  if(text.includes("kaÃ§")){
    return "1453.";
  }
  return "Bunu dÃ¼ÅŸÃ¼ndÃ¼mâ€¦ sonra dÃ¼ÅŸÃ¼nmeyi unuttum.";
}

// === ENTER %100 Ã‡ALIÅžIR ===
input.onkeydown = function(e){
  if(e.key === "Enter"){
    const text = input.value.trim();
    if(text === "") return;

    input.value = "";

    ekle("user", text);
    hafiza.push({tip:"user", metin:text});
    kaydet();

    setTimeout(()=>{
      const r = cevap(text);
      ekle("bot", r);
      hafiza.push({tip:"bot", metin:r});
      kaydet();
    }, 200);
  }
};
</script>

</body>
</html>
