<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Aptal ðŸ¤ª | Komik Sohbet Botu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body{
      margin:0;
      font-family:Arial, sans-serif;
      background:linear-gradient(135deg,#1e3c72,#2a5298);
      color:#fff;
      height:100vh;
      display:flex;
    }
    .sidebar{
      width:240px;
      background:#111;
      padding:12px;
      box-sizing:border-box;
    }
    .sidebar h2{margin:0 0 10px 0;font-size:18px}
    .sidebar button{
      width:100%;
      padding:8px;
      border:none;
      border-radius:6px;
      cursor:pointer;
      background:#2a5298;
      color:#fff;
    }
    .chat-list{list-style:none;padding:0;margin:10px 0 0 0}
    .chat-list li{
      padding:6px;
      background:#222;
      margin-bottom:6px;
      border-radius:6px;
      cursor:pointer;
    }
    .chat-list li.active{background:#333}

    .chat-area{
      flex:1;
      display:flex;
      flex-direction:column;
      padding:16px;
      box-sizing:border-box;
    }
    .top{
      display:flex;
      gap:8px;
      margin-bottom:8px;
    }
    .top button{
      padding:6px 10px;
      border:none;
      border-radius:6px;
      cursor:pointer;
    }
    .messages{
      flex:1;
      background:#000;
      border-radius:8px;
      padding:10px;
      overflow-y:auto;
    }
    .user{color:#4fc3f7;margin-bottom:6px}
    .bot{color:#ffb74d;margin-bottom:6px}
    input{
      margin-top:10px;
      padding:10px;
      border:none;
      border-radius:8px;
      outline:none;
    }
    .credit{
      position:fixed;
      bottom:10px;
      right:10px;
      font-size:12px;
      opacity:.8;
    }
  </style>
</head>
<body>

<div class="sidebar">
  <h2>Sohbetlerim</h2>
  <button onclick="yeniSohbet()">+ Yeni Sohbet</button>
  <ul class="chat-list" id="chatList"></ul>
</div>

<div class="chat-area">
  <div class="top">
    <button onclick="sesToggle()" id="sesBtn">ðŸ”Š Ses AÃ§Ä±k</button>
  </div>
  <div class="messages" id="messages"></div>
  <input id="input" type="text" placeholder="Bir ÅŸey yaz ve Enter'a bas" />
</div>

<div class="credit">ðŸ¤– Deniz Z tarafÄ±ndan yapÄ±ldÄ±</div>

<script>
  const input = document.getElementById('input');
  const messagesDiv = document.getElementById('messages');
  const chatList = document.getElementById('chatList');

  let chats = [];
  let activeChat = null;
  let sesAcik = true;

  const cevaplar = [
    '1453 olabilir',
    'Bence simit',
    'Bu Ã§ok derin bir soru',
    'CevabÄ± kumrular bilir',
    'Matematik beni aÅŸtÄ±',
    'Kesin 42',
    'Buna kalbimle cevap veriyorum: evet',
    'Birazdan dÃ¼ÅŸÃ¼neceÄŸim',
    'Bence hayÄ±r ama emin deÄŸilim',
    'Bu soru bana bakÄ±yor'
  ];

  function yeniSohbet(){
    chats.push({title:'Sohbet '+(chats.length+1),messages:[]});
    activeChat = chats.length-1;
    sohbetleriYukle();
    mesajlariYukle();
  }

  function sohbetleriYukle(){
    chatList.innerHTML='';
    chats.forEach((c,i)=>{
      const li=document.createElement('li');
      li.textContent=c.title;
      if(i===activeChat) li.classList.add('active');
      li.onclick=()=>{activeChat=i;mesajlariYukle();sohbetleriYukle()};
      chatList.appendChild(li);
    });
  }

  function mesajlariYukle(){
    messagesDiv.innerHTML='';
    chats[activeChat].messages.forEach(m=>mesajEkle(m.role,m.text));
  }

  function mesajEkle(role,text){
    const d=document.createElement('div');
    d.className=role;
    d.textContent=(role==='user'?'Sen: ':'Aptal: ')+text;
    messagesDiv.appendChild(d);
    messagesDiv.scrollTop=messagesDiv.scrollHeight;
  }

  input.addEventListener('keydown',e=>{
    if(e.key!=='Enter' || !input.value.trim()) return;
    if(activeChat===null) yeniSohbet();

    const text=input.value.trim();
    input.value='';
    chats[activeChat].messages.push({role:'user',text});
    mesajEkle('user',text);

    const reply=cevaplar[Math.floor(Math.random()*cevaplar.length)];
    setTimeout(()=>{
      chats[activeChat].messages.push({role:'bot',text:reply});
      mesajEkle('bot',reply);
      konus(reply);
    },300);
  });

  function konus(text){
    if(!sesAcik || !('speechSynthesis' in window)) return;
    const u=new SpeechSynthesisUtterance(text);
    u.lang='tr-TR';
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  }

  function sesToggle(){
    sesAcik=!sesAcik;
    document.getElementById('sesBtn').textContent=sesAcik?'ðŸ”Š Ses AÃ§Ä±k':'ðŸ”‡ Ses KapalÄ±';
    if(!sesAcik) speechSynthesis.cancel();
  }
</script>
</body>
</html>