<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Aptal 云 Bot</title>
<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  font-family:Arial, sans-serif;
  color:#fff;
}
#app{
  width:90%;
  max-width:600px;
  background:#111;
  border-radius:10px;
  padding:15px;
  display:flex;
  flex-direction:column;
}
#messages{
  flex:1;
  overflow-y:auto;
  margin-bottom:10px;
}
.msg{margin-bottom:6px}
.user{color:#4fc3f7}
.bot{color:#ffb74d}
input{
  padding:10px;
  border:none;
  border-radius:6px;
  outline:none;
}
.footer{
  font-size:11px;
  text-align:center;
  opacity:.7;
  margin-top:6px;
}
</style>
</head>
<body>

<div id="app">
  <div id="messages"></div>
  <input id="input" placeholder="Yaz ve Enter'a bas">
  <div class="footer">Deniz Z taraf覺ndan yap覺ld覺</div>
</div>

<script>
const messages = document.getElementById("messages");
const input = document.getElementById("input");

// === HAFIZA ===
let hafiza = JSON.parse(localStorage.getItem("aptal_hafiza")) || [];
hafiza.forEach(m => ekle(m.tip, m.metin));

function kaydet(){
  localStorage.setItem("aptal_hafiza", JSON.stringify(hafiza));
}

function ekle(tip, metin){
  const d = document.createElement("div");
  d.className = "msg " + tip;
  d.innerHTML = (tip==="user"?"Sen: ":"Aptal: ") + metin;
  messages.appendChild(d);
  messages.scrollTop = messages.scrollHeight;
}

// === SAMA AMA ANLAMLI 襤襤R ===
function sacmaSiir(){
  const a=["Bir sabah uyand覺m","Pencere a癟覺kt覺","Saat bana bakt覺","Ayakkab覺m kay覺pt覺"];
  const b=["癟羹nk羹 simitler d羹羹n羹yordu","mant覺k izin alm覺t覺","kediler ekonomi konuuyordu","akl覺m masadayd覺"];
  const c=["sonra sustuk.","kimse anlamad覺.","癟ay soudu.","hayat devam etti."];
  return a[Math.random()*a.length|0]+"<br>"+
         b[Math.random()*b.length|0]+"<br>"+
         c[Math.random()*c.length|0];
}

// === BOT BEYN襤 ===
function cevap(text){
  text = text.toLowerCase();

  if (
    text.includes("iir yaz") ||
    text.includes("bir iir yaz")
  ) {
    return sacmaSiir();
  }

  if (text.includes("ka癟")) {
    return "1453.";
  }

  return "Bunu d羹羹nd羹m ama d羹羹n羹rken baka bir eye dald覺m.";
}

// === ENTER %100 ===
input.onkeydown = function(e){
  if(e.key === "Enter"){
    const text = input.value.trim();
    if(text === "") return;

    input.value = "";

    ekle("user", text);
    hafiza.push({tip:"user", metin:text});
    kaydet();

    setTimeout(()=>{
      const r = cevap(text);
      ekle("bot", r);
      hafiza.push({tip:"bot", metin:r});
      kaydet();
    }, 200);
  }
};
</script>

</body>
</html>
